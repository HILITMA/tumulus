<html>
<head>
    <meta charset="utf-8">
    <link href="https://fonts.googleapis.com/css?family=Alef" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <script src="svg-pan-zoom.min.js"></script>
</head>
<body>
<center>
  <div id="tumulus-container">
    <object id="illustration" data="Aaron-Swartz-Stylized.svg" 
      width="100%" height="100%" type="image/svg+xml"></object>

    <svg id="bullseye" viewBox="-50 -50 700 700">
      <circle cx="300" cy="300" r="30"/>
    </svg>
    <svg id="tumulus" viewBox="-50 -50 700 700" width="100%" height="100%" 
      preserveAspectRatio="xMinYMin meet">
      <path id="Spiral" fill="none" stroke="gold"
        style="stroke-width: 3px; stroke-dasharray: 10 5 7 11 3 3 9"
        ></path>
    </svg>
  </div>
  <h1>Aaron Hillel Swartz</h1>
  <h2>November 8, 1986 &#x2721; January 11, 2013</h2>
  <p>
    <a href="https://archive.org/details/TheInternetsOwnBoyTheStoryOfAaronSwartz">
      The Internet's own boy
    </a>
    &nbsp;&#x2721;&nbsp;
    <a href="http://www.aaronsw.com/">His Site</a>
    &nbsp;&#x2721;&nbsp;
    <a href="https://archive.org/details/aaronsw">Open Collection</a>
    &nbsp;&#x2721;&nbsp;
    <a href="https://en.wikipedia.org/wiki/Aaron_Swartz">Wikipedia</a>
   </p>
</center>

<!-- github ribbon -->
<a href="https://github.com/daonb/tumulus"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>

<script>
/*
The spiral is an SVG path initializeded with an M command at its center, with
enough following S command points to provide a 'smooth' curve. The points are
created using the equation for a spiral.
*/


function draw()
{
	//---dir=1: clockwise, dir=-1: counterclockwise
  var dir=1,
      SpiralPnts=520,
	    CenterX=300,
	    CenterY=300,
        // TODO: calc the sepertion based o
	    S=1.93,
	    Revs=26;
	//---degrees of seperation between points---
	    DegSep=(2*Math.PI*Revs/SpiralPnts);

	//---the path element---
	for(var i=0;i<SpiralPnts;i++)
	{
		var NextAngle=dir*DegSep*i
		var Ax=(S*NextAngle)*Math.cos(NextAngle)+CenterX
		var Ay=(S*NextAngle)*Math.sin(NextAngle)+CenterY
		if(i==0)
			var pathPnts="M"+rnd1(Ax)+" "+rnd1(Ay)+" S "
		else
		   pathPnts += rnd1(Ax)+" "+rnd1(Ay)+" "
	}
  pathPnts+=Ax+" "+Ay;


	Spiral.setAttribute("d",pathPnts)

}
//--returns 1 decimal place---
function rnd1(num)
{
	var dp1=Math.round(num*10)/10
	return dp1
}
window.onload = function () {
  draw()
  var tumulus = svgPanZoom('#tumulus', {
      viewportSelector: '.svg-pan-zoom_viewport'
    , panEnabled: true
    , controlIconsEnabled: true
    , zoomEnabled: true
    , dblClickZoomEnabled: true
    , mouseWheelZoomEnabled: true
    , preventMouseEventsDefault: true
    , zoomScaleSensitivity: 0.2
    , minZoom: 0.5
    , maxZoom: 11
    , fit: true
    , contain: false
    , center: true
    , refreshRate: 'auto'
    , beforeZoom: function(){}
    , onZoom: function(){}
    , beforePan: function(){}
    , onPan: function(){}
    , onUpdatedCTM: function(){}
    , eventsListenerElement: null
    })
    , bullseye = document.getElementById("bullseye");

    tumulus.zoom = 1;

    bullseye.show = function() {
        bullseye.style['fill-opacity'] = "0.2";
        bullseye.style['stroke-width'] = "10px"
    };
    bullseye.hide = function() { 
        bullseye.style['fill-opacity'] = "0";
        bullseye.style['stroke-width'] = "0"
    };
    bullseye.move = function () { 
        // move the bullseye to the closest segment and update the age indicator
        null
    };

    tumulus.setOnZoom(function(level){
        tumulus.zoom = level;
      console.log(level);
        if (level > 3) 
            bullseye.show()
        else
            bullseye.hide();
    });

    tumulus.setOnPan(function(point){
      if (tumulus.zoom > 3) {
          bullseye.move(point)
      }
    });

}
</script>
</body>
</html>
